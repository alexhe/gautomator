<!-- START SIGMA IMPORTS -->
<script src="/js/sigma.js/src/sigma.core.js"></script>
<script src="/js/sigma.js/src/conrad.js"></script>
<script src="/js/sigma.js/src/utils/sigma.utils.js"></script>
<script src="/js/sigma.js/src/utils/sigma.polyfills.js"></script>
<script src="/js/sigma.js/src/sigma.settings.js"></script>
<script src="/js/sigma.js/src/classes/sigma.classes.dispatcher.js"></script>
<script src="/js/sigma.js/src/classes/sigma.classes.configurable.js"></script>
<script src="/js/sigma.js/src/classes/sigma.classes.graph.js"></script>
<script src="/js/sigma.js/src/classes/sigma.classes.camera.js"></script>
<script src="/js/sigma.js/src/classes/sigma.classes.quad.js"></script>
<script src="/js/sigma.js/src/classes/sigma.classes.edgequad.js"></script>
<script src="/js/sigma.js/src/captors/sigma.captors.mouse.js"></script>
<script src="/js/sigma.js/src/captors/sigma.captors.touch.js"></script>
<script src="/js/sigma.js/src/renderers/sigma.renderers.canvas.js"></script>
<script src="/js/sigma.js/src/renderers/sigma.renderers.webgl.js"></script>
<script src="/js/sigma.js/src/renderers/sigma.renderers.svg.js"></script>
<script src="/js/sigma.js/src/renderers/sigma.renderers.def.js"></script>
<script src="/js/sigma.js/src/renderers/webgl/sigma.webgl.nodes.def.js"></script>
<script src="/js/sigma.js/src/renderers/webgl/sigma.webgl.nodes.fast.js"></script>
<script src="/js/sigma.js/src/renderers/webgl/sigma.webgl.edges.def.js"></script>
<script src="/js/sigma.js/src/renderers/webgl/sigma.webgl.edges.fast.js"></script>
<script src="/js/sigma.js/src/renderers/webgl/sigma.webgl.edges.arrow.js"></script>
<script src="/js/sigma.js/src/renderers/canvas/sigma.canvas.labels.def.js"></script>
<script src="/js/sigma.js/src/renderers/canvas/sigma.canvas.hovers.def.js"></script>
<script src="/js/sigma.js/src/renderers/canvas/sigma.canvas.nodes.def.js"></script>
<script src="/js/sigma.js/src/renderers/canvas/sigma.canvas.edges.def.js"></script>
<script src="/js/sigma.js/src/renderers/canvas/sigma.canvas.edges.curve.js"></script>
<script src="/js/sigma.js/src/renderers/canvas/sigma.canvas.edges.arrow.js"></script>
<script src="/js/sigma.js/src/renderers/canvas/sigma.canvas.edges.curvedArrow.js"></script>
<script src="/js/sigma.js/src/renderers/canvas/sigma.canvas.edgehovers.def.js"></script>
<script src="/js/sigma.js/src/renderers/canvas/sigma.canvas.edgehovers.curve.js"></script>
<script src="/js/sigma.js/src/renderers/canvas/sigma.canvas.edgehovers.arrow.js"></script>
<script src="/js/sigma.js/src/renderers/canvas/sigma.canvas.edgehovers.curvedArrow.js"></script>
<script src="/js/sigma.js/src/renderers/canvas/sigma.canvas.extremities.def.js"></script>
<script src="/js/sigma.js/src/renderers/svg/sigma.svg.utils.js"></script>
<script src="/js/sigma.js/src/renderers/svg/sigma.svg.nodes.def.js"></script>
<script src="/js/sigma.js/src/renderers/svg/sigma.svg.edges.def.js"></script>
<script src="/js/sigma.js/src/renderers/svg/sigma.svg.edges.curve.js"></script>
<script src="/js/sigma.js/src/renderers/svg/sigma.svg.labels.def.js"></script>
<script src="/js/sigma.js/src/renderers/svg/sigma.svg.hovers.def.js"></script>
<script src="/js/sigma.js/src/middlewares/sigma.middlewares.rescale.js"></script>
<script src="/js/sigma.js/src/middlewares/sigma.middlewares.copy.js"></script>
<script src="/js/sigma.js/src/misc/sigma.misc.animation.js"></script>
<script src="/js/sigma.js/src/misc/sigma.misc.bindEvents.js"></script>
<script src="/js/sigma.js/src/misc/sigma.misc.bindDOMEvents.js"></script>
<script src="/js/sigma.js/src/misc/sigma.misc.drawHovers.js"></script>
<!-- END SIGMA IMPORTS -->
<script src="/js/sigma.js/plugins/sigma.parsers.json/sigma.parsers.json.js"></script>
<script src="/js/sigma.layout.forceAtlas2.min.js"></script>
<script src="/js/sigma.min.js"></script>
<script src="/js/sigma.js/sigma.parsers.json.min.js"></script>
<div id="container">
	<style>
		#graph-container {
			top: 0;
			bottom: 0;
			left: 0;
			right: 0;
			position: absolute;
		}
</style>
	<div id="graph-container"</div>
</div>
<script>
	/**
	* Here is just a basic example on how to properly display a graph
	* exported from Gephi as a JSON file, with the JSON Exporter plugin from
	* the Oxford Internet Institute:
	*
	* > http/js/sigma.js//marketplace.gephi.org/plugin/json-exporter/
	*
	* The plugin sigma.parsers.json can load and parse the JSON graph file,
	* and instantiate sigma when the graph is received.
	*
	* The object given as the second parameter is the base of the instance
	* configuration object. The plugin will just add the "graph" key to it
	* before the instanciation.
        */
        // these are just some preliminary settings 
        var g = {
            nodes: [],
            edges: []
        };

        s = new sigma({
            graph: g,
            container: 'graph-container',
            renderer: {
                container: document.getElementById('graph-container'),
                type: 'canvas'
            },
            settings: {
                minNodeSize: 8,
                maxNodeSize: 16
            }
        });

	sigma.parsers.json(
		'/tasks',
		s,
		function() {
		    // this is needed in case the original JSON doesn't have color / size / x-y attributes 
		    var i,
			    nodes = s.graph.nodes(),
			    len = nodes.length;

		    for (i = 0; i < len; i++) {
			nodes[i].x = Math.random();
			nodes[i].y = Math.random();
			nodes[i].size = s.graph.degree(nodes[i].id);
			nodes[i].color = nodes[i].center ? '#333' : '#666';
		    }
                    
                    edges = s.graph.edges(),
                    len = edges.length;

		    // Refresh the display:
		    s.refresh();

		    // ForceAtlas Layout
		    s.startForceAtlas2();
		}
	);

</script>
