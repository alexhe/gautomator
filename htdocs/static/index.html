<html>
<head>
    <script type='text/javascript' src='http://ajax.googleapis.com/ajax/libs/jquery/1.6.1/jquery.min.js'></script>
     <link rel="stylesheet" type="text/css" href="/css/table.css">
     <link rel="stylesheet" type="text/css" href="/css/div.css">
     <META HTTP-EQUIV="Refresh" CONTENT="2" URL="http://localhost:8080/index.html">
</head>
<body>
	</p>
	<div class="box">
		<div class="div1">
		<table class="mGrid" id="jsondata" border="1">
		<thead>
			<th>Task</th>
			<th>Node</th>
			<th>Status</th>
			<th>ReturnCode</th>
		</thead>
		<tbody></tbody>
	</table>
		</div>
		<div class="div2">
			<img src="example.png"/>	
		</div>
		<div class="clear"> </div>
	</div>

<script type="text/javascript">

	$(document).ready(function(){
		var url="http://localhost:8080/tasks";
		$("#jsondata tbody").html("");
		$.getJSON(url,function(data){
			$.each(data.Tasks, function(key,val){
				color = "white"
				if (val.Status == 2) {
						color = "green"
				}
				if (val.Status == 1) {
						color = "orange"
				}
				var newRow =
				"<tr bgcolor="+color+">"
				+"<td>"+val.Name+"</td>"
				+"<td>"+val.Node+"</td>"
				+"<td>"+val.Status+"</td>"
				+"<td>"+val.ReturnCode+"</td>"
				+"</tr>" ;
				$(newRow).appendTo("#jsondata tbody");
			});
		});
	});

</script>
<p style="text-align: justify;">
</body>
</html>
